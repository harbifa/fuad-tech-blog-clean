---
// File: src/components/blog/ExpertTip.astro
// Final version with multi-color support, just like the BlogHeader component.

export interface Props {
  title: string;
  // The new 'color' prop allows for visual variety.
  // The '?' makes it optional, and it will default to 'orange'.
  color?: 'orange' | 'blue' | 'green' | 'slate';
}

const { title, color = 'orange' } = Astro.props; // 'orange' is the default color

// A map that links color names to their corresponding Tailwind CSS classes.
const colorVariants = {
  orange: 'border-orange-500 bg-gradient-to-br from-orange-50 to-orange-100 text-orange-900 dark:from-orange-900/50 dark:to-orange-800/50 dark:border-orange-400 dark:text-orange-200',
  blue: 'border-blue-500 bg-gradient-to-br from-blue-50 to-blue-100 text-blue-900 dark:from-blue-900/50 dark:to-blue-800/50 dark:border-blue-400 dark:text-blue-200',
  green: 'border-green-500 bg-gradient-to-br from-green-50 to-green-100 text-green-900 dark:from-green-900/50 dark:to-green-800/50 dark:border-green-400 dark:text-green-200',
  slate: 'border-slate-500 bg-gradient-to-br from-slate-50 to-slate-200 text-slate-900 dark:from-slate-800/50 dark:to-slate-700/50 dark:border-slate-400 dark:text-slate-200',
};

const selectedClasses = colorVariants[color];
---

<div 
  class:list={[
    "my-8 rounded-lg border-r-4 p-6 shadow-md",
    selectedClasses
  ]}
  style="direction: rtl;"
>
  <p class="mb-2 text-lg font-black">
    {title}
  </p>
  
  <div class="prose dark:prose-invert max-w-none prose-p:my-2">
    <slot />
  </div>
  
  {Astro.slots.has('footer') && <hr class="my-4 border-t border-dashed border-current/30" />}
  
  <div class="font-bold">
    <slot name="footer" />
  </div>
</div>
