---
import { calculateSiteStatistics, formatNumberArabic } from '../utils/statistics';

const stats = await calculateSiteStatistics();
---

<section class="relative py-20 bg-gradient-to-br from-primary-600 via-primary-700 to-secondary-600 text-white overflow-hidden">
  <!-- Background Pattern -->
  <div class="absolute inset-0 opacity-10">
    <div class="absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxnIGZpbGw9IiNmZmYiIGZpbGwtb3BhY2l0eT0iMC4xIj48Y2lyY2xlIGN4PSIzMCIgY3k9IjMwIiByPSIyIi8+PC9nPjwvZz48L3N2Zz4=')]"></div>
  </div>
  
  <div class="container mx-auto px-4 relative z-10">
    <div class="text-center max-w-4xl mx-auto">
      <div class="mb-6">
        <div class="inline-flex items-center justify-center w-20 h-20 bg-white/10 backdrop-blur-sm rounded-2xl mb-6">
          <i class="fas fa-feather-alt text-3xl"></i>
        </div>
      </div>
      
      <h1 class="text-4xl md:text-6xl font-bold mb-6 leading-tight">
        مرحباً بك في
        <span class="bg-gradient-to-r from-yellow-300 to-orange-300 bg-clip-text text-transparent">
          مدونة عزيز
        </span>
      </h1>
      
      <p class="text-xl md:text-2xl mb-8 text-white/90 leading-relaxed">
        دليلك الشامل لاختيار أفضل <span class="font-semibold">كاميرات المراقبة</span> و
        <span class="font-semibold">الأنظمة الأمنية</span> مع مراجعات صادقة وتوصيات موثوقة
      </p>
      
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a 
          href="#latest-posts" 
          class="inline-flex items-center justify-center px-8 py-3 bg-white text-primary-700 font-semibold rounded-lg hover:bg-gray-100 transition-all duration-300 hover:shadow-lg"
        >
          <i class="fas fa-arrow-down ml-3"></i>
          تصفح المراجعات
        </a>
        <button
          onclick="openSearch()"
          class="inline-flex items-center justify-center px-8 py-3 border-2 border-white text-white font-semibold rounded-lg hover:bg-white hover:text-primary-700 transition-all duration-300"
        >
          <i class="fas fa-search ml-3"></i>
          ابحث عن منتج
        </button>
        <a 
          href="https://x.com/fuad3ziz" 
          target="_blank"
          rel="noopener noreferrer"
          class="inline-flex items-center justify-center px-8 py-3 border-2 border-white/50 text-white font-semibold rounded-lg hover:bg-white/10 hover:border-white transition-all duration-300"
        >
          <i class="fab fa-x-twitter ml-3"></i>
          تابعني على تويتر
        </a>
      </div>
      
      <!-- Dynamic Stats -->
      <div class="mt-12 grid grid-cols-1 sm:grid-cols-3 gap-6 max-w-2xl mx-auto">
        <div class="text-center">
          <div class="text-2xl font-bold">{stats.totalPosts}+</div>
          <div class="text-white/80">مراجعة ودليل</div>
        </div>
        <div class="text-center">
          <div class="text-2xl font-bold">{formatNumberArabic(stats.monthlyReaders)}+</div>
          <div class="text-white/80">قارئ شهرياً</div>
        </div>
        <div class="text-center">
          <div class="text-2xl font-bold">{stats.totalCategories}</div>
          <div class="text-white/80">مجالات متخصصة</div>
        </div>
      </div>
      
      <!-- Trust Indicators -->
      <div class="mt-8 flex flex-wrap justify-center items-center gap-6 text-sm text-white/70">
        <div class="flex items-center">
          <i class="fas fa-check-circle ml-2 text-green-300"></i>
          مراجعات صادقة
        </div>
        <div class="flex items-center">
          <i class="fas fa-shield-alt ml-2 text-blue-300"></i>
          توصيات موثوقة
        </div>
        <div class="flex items-center">
          <i class="fas fa-star ml-2 text-yellow-300"></i>
          خبرة 20+ سنوات
        </div>
      </div>
    </div>
  </div>
  
  <!-- Scroll Indicator -->
  <div class="absolute bottom-6 left-1/2 transform -translate-x-1/2 animate-bounce">
    <i class="fas fa-chevron-down text-white/60 text-xl"></i>
  </div>
</section>